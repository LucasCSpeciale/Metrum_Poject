services:
  llm-benchmark:
    build: .
    container_name: llm-benchmark-tool
    ports:
      - "3000:3000"
    environment:
      - OPENROUTER_API_KEY=${OPENROUTER_API_KEY}
      - HOST_WORKSPACE_PATH=${PWD}
    volumes:
      # Mount Docker socket to allow container to run Docker commands
      - /var/run/docker.sock:/var/run/docker.sock
      # Mount entire workspace for Docker-in-Docker access
      - .:/app
      # Mount results directory to persist data
      - ./results:/app/results
    restart: unless-stopped
    networks:
      - benchmark-network

networks:
  benchmark-network:
    driver: bridge

